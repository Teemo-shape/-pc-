<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>T严选-TCL员工购物平台,TCL员工之家,TCL内部员工购物商城</title>
		<meta name="keywords" content="T严选,TCL员工之家,TCL内部购物平台,TCL官方网上商城" />
		<meta name="description" content="T严选商城隶属TCL集团电子商务中心（惠州酷友网络科技有限公司），是TCL员工专属购物平台，是TCL集团认证的官方商城。T严选商城所售商品均为原装正品，并开具电子发票，支持全国联保。" /><meta http-equiv="X-UA-Compatible" content="IE=9,chrome=1">
		<meta name="renderer" content="webkit" />
		<link rel="icon" href="http://www.tcl.com:80/favicon.ico" type="image/x-icon">
        <style>
            .content{
                width: 500px;
                height: 400px;
                margin: 200px auto;
                text-align: center;
            }
            .sk-circle {
                  width: 30px;
                  height: 30px;
                  position: relative;
                }
                .sk-circle .sk-child {
                  width: 100%;
                  height: 100%;
                  position: absolute;
                  left: 0;
                  top: 0;
                }
                .sk-circle .sk-child:before {
                  content: '';
                  display: block;
                  margin: 0 auto;
                  width: 15%;
                  height: 15%;
                  background-color: #ccc;
                  border-radius: 100%;
                  -webkit-animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;
                          animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;
                }
                .sk-circle .sk-circle2 {
                  -webkit-transform: rotate(30deg);
                      -ms-transform: rotate(30deg);
                          transform: rotate(30deg); }
                .sk-circle .sk-circle3 {
                  -webkit-transform: rotate(60deg);
                      -ms-transform: rotate(60deg);
                          transform: rotate(60deg); }
                .sk-circle .sk-circle4 {
                  -webkit-transform: rotate(90deg);
                      -ms-transform: rotate(90deg);
                          transform: rotate(90deg); }
                .sk-circle .sk-circle5 {
                  -webkit-transform: rotate(120deg);
                      -ms-transform: rotate(120deg);
                          transform: rotate(120deg); }
                .sk-circle .sk-circle6 {
                  -webkit-transform: rotate(150deg);
                      -ms-transform: rotate(150deg);
                          transform: rotate(150deg); }
                .sk-circle .sk-circle7 {
                  -webkit-transform: rotate(180deg);
                      -ms-transform: rotate(180deg);
                          transform: rotate(180deg); }
                .sk-circle .sk-circle8 {
                  -webkit-transform: rotate(210deg);
                      -ms-transform: rotate(210deg);
                          transform: rotate(210deg); }
                .sk-circle .sk-circle9 {
                  -webkit-transform: rotate(240deg);
                      -ms-transform: rotate(240deg);
                          transform: rotate(240deg); }
                .sk-circle .sk-circle10 {
                  -webkit-transform: rotate(270deg);
                      -ms-transform: rotate(270deg);
                          transform: rotate(270deg); }
                .sk-circle .sk-circle11 {
                  -webkit-transform: rotate(300deg);
                      -ms-transform: rotate(300deg);
                          transform: rotate(300deg); }
                .sk-circle .sk-circle12 {
                  -webkit-transform: rotate(330deg);
                      -ms-transform: rotate(330deg);
                          transform: rotate(330deg); }
                .sk-circle .sk-circle2:before {
                  -webkit-animation-delay: -1.1s;
                          animation-delay: -1.1s; }
                .sk-circle .sk-circle3:before {
                  -webkit-animation-delay: -1s;
                          animation-delay: -1s; }
                .sk-circle .sk-circle4:before {
                  -webkit-animation-delay: -0.9s;
                          animation-delay: -0.9s; }
                .sk-circle .sk-circle5:before {
                  -webkit-animation-delay: -0.8s;
                          animation-delay: -0.8s; }
                .sk-circle .sk-circle6:before {
                  -webkit-animation-delay: -0.7s;
                          animation-delay: -0.7s; }
                .sk-circle .sk-circle7:before {
                  -webkit-animation-delay: -0.6s;
                          animation-delay: -0.6s; }
                .sk-circle .sk-circle8:before {
                  -webkit-animation-delay: -0.5s;
                          animation-delay: -0.5s; }
                .sk-circle .sk-circle9:before {
                  -webkit-animation-delay: -0.4s;
                          animation-delay: -0.4s; }
                .sk-circle .sk-circle10:before {
                  -webkit-animation-delay: -0.3s;
                          animation-delay: -0.3s; }
                .sk-circle .sk-circle11:before {
                  -webkit-animation-delay: -0.2s;
                          animation-delay: -0.2s; }
                .sk-circle .sk-circle12:before {
                  -webkit-animation-delay: -0.1s;
                          animation-delay: -0.1s; }

                @-webkit-keyframes sk-circleBounceDelay {
                  0%, 80%, 100% {
                    -webkit-transform: scale(0);
                            transform: scale(0);
                  } 40% {
                    -webkit-transform: scale(1);
                            transform: scale(1);
                  }
                }

                @keyframes sk-circleBounceDelay {
                  0%, 80%, 100% {
                    -webkit-transform: scale(0);
                            transform: scale(0);
                  } 40% {
                    -webkit-transform: scale(1);
                            transform: scale(1);
                  }
                }
        </style>
        <script src="../../app/js/vendor.js"></script>
	</head>
	<body>

        <div class="content">
			<img src="../../app/images/jump.png">
			<div class="animation">
				<div class="animate" style="display:inline-block; vertical-align:middle">
	            	<div class="sk-circle">
						<div class="sk-circle1 sk-child"></div>
						<div class="sk-circle2 sk-child"></div>
						<div class="sk-circle3 sk-child"></div>
						<div class="sk-circle4 sk-child"></div>
						<div class="sk-circle5 sk-child"></div>
						<div class="sk-circle6 sk-child"></div>
						<div class="sk-circle7 sk-child"></div>
						<div class="sk-circle8 sk-child"></div>
						<div class="sk-circle9 sk-child"></div>
						<div class="sk-circle10 sk-child"></div>
						<div class="sk-circle11 sk-child"></div>
						<div class="sk-circle12 sk-child"></div>
					</div>
	            </div>
	            <p style="color:#666;display:inline-block; margin:0; margin-left:20px; line-height:30px; height:30px;">
	                页面加载中....
	            </p>
			</div>

        </div>
        <script type="text/javascript">
        var requestParaMap = function() {
            var id = location.search;
            if (id === "" || id === null || typeof id === "undefined") {
                id = "";
            }
            var arrayObj = id.match(/([^?=&]+)(=([^&]*))?/g);
            var returnMap = {};
            if (arrayObj === null) return returnMap;
            for (var i = 0; i < arrayObj.length; i++) {
                var conment = arrayObj[i];
                var key = decodeURIComponent(conment.substring(0, conment.indexOf("=")));
                var value = decodeURIComponent(conment.substring(conment.indexOf("=") + 1, conment.length));
                returnMap[key] = value;
            };
            if(id == "undefined") {
                return null;
            }else{
                return returnMap;
            }
        };
        var param = requestParaMap();
        var code = param.msg;
        if(!code) {
            window.location.href = '{{login}}'
        } else {
            var token = localStorage.getItem('istaff_token') ? localStorage.getItem('istaff_token') : null;

            $.ajax({
                url: '/rest/ssologin/check',
                type:'get',
                headers:{
                    'ihome-token' : token,
                },
                data:{code: code },
                success: function (data) {
                    if(data.code == 0) {
                        localStorage.setItem('istaff_token', data.token);
                        window.location.href = document.referrer;
                    }
                }
            })
        }
        </script>
    </body>
    </html>
